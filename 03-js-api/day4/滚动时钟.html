<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        main {
            display: flex;
        }

        main section {
            display: flex;
        }

        main section div {
            width: 50px;
            height: 100px;
            background-color: lightblue;
            display: flex;
            flex-direction: column;
            border: 1px solid black;
            overflow: hidden;
            margin: 0 1px;
        }

        main section div span {
            width: 100%;
            height: 100%;
            background-color: lightcoral;
            flex-shrink: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 40px;
            color: white;
            transition: all .3s;

        }
    </style>
</head>

<body>
    <main>
        <section class="hh">
            <div class="s1">
                <span>0</span>
                <!-- <span>2</span> -->
            </div>
            <div class="s2">
                <span>0</span>
                <!-- <span>2</span> -->
        </section>:
        <section class="mm">
            <div class="s1">
                <span>0</span>
                <!-- <span>2</span> -->
            </div>
            <div class="s2">
                <span>0</span>
                <!-- <span>2</span> -->
        </section>:
        <section class="ss">
            <div class="s1">
                <span>0</span>
                <!-- <span>2</span> -->
            </div>
            <div class="s2">
                <span>0</span>
                <!-- <span>2</span> -->
            </div>

        </section>
    </main>
    <script>
        //个位数
        // var s2Dom = ssDom.getElementsByTagName("div")[1]
        // var s2span2Dom = s2Dom.getElementsByTagName("span")[0];
        // console.log(s2span2Dom.innerText,ss[1]);

        // if (s2span2Dom.innerText !== ss[1]) {
        //     var newSpanDom = document.createElement("span");
        // newSpanDom.innerText = ss[1];
        // s2Dom.appendChild(newSpanDom);
        // s2span2Dom.style.marginTop = "-100px"
        // setTimeout(function () {
        //     s2Dom.removeChild(s2span2Dom)
        // })
        // }

        function showNewNum(element, n) {
            //element就是显示一个数字的盒子 .s1 或者 .s2 n是新值
            var firstSpanDom = element.getElementsByTagName("span")[0];

            if (firstSpanDom.innerText !== n) {
                //如果第一个span里面的文字 和 需要展示 文字不同
                var newSpanDom = document.createElement("span");
                //创建新元素span
                newSpanDom.innerText = n;
                element.appendChild(newSpanDom);
                //追加新span到.s1 / .s2 的末尾
                firstSpanDom.style.marginTop = "-100px"
                //第一个span往上移动-100
                setTimeout(function () {
                    element.removeChild(firstSpanDom);
                }, 300)
                //过渡完成后删除第一个span元素
            }
        }
        // function showNewNum(element, n) {
        //     var firstSpanDom = element.getElementByTagName("span")[0]
        //     if (firstSpanDom.innerText !== n) {
        //         var newSpanDom = document.createElement("span");
        //         // 创建新元素span
        //         newSpanDom.innerText = n
        //         element.appendChild(newSpanDom)
        //         //追加到元素末尾
        //         firstSpanDom.style.marginTop = "-100px"
        //         //向上移动100px
        //         setTimeout(function () {
        //             element.removeChild(firstSpanDom)
        //             // 删除
        //         }, 300)
        //     }
        // }

        //每秒取一下时间
        setInterval(function () {
            var now = new Date();
            //取出当前的秒数，并且补全两位
            var hh = String(now.getHours()).padStart(2, "0");
            var mm = String(now.getMinutes()).padStart(2, "0");
            var ss = String(now.getSeconds()).padStart(2, "0");
            // console.log(ss);

            var hhDom = document.querySelector(".hh");
            var mmDom = document.querySelector(".mm");
            var ssDom = document.querySelector(".ss");
            // /遍历ss （显示秒数的两个盒子）
            hhDom.querySelectorAll("div").forEach(function (ele, i) {
                // 每个盒子都显示一项新的值
                showNewNum(ele, hh[i])
            })
            mmDom.querySelectorAll("div").forEach(function (ele, i) {
                // 每个盒子都显示一项新的值
                showNewNum(ele, mm[i])
            })
            ssDom.querySelectorAll("div").forEach(function (ele, i) {
                // 每个盒子都显示一项新的值
                showNewNum(ele, ss[i])
            })
        }, 1000)
    </script>
</body>

</html>