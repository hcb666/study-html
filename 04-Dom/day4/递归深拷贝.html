<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        var obj3 = {
            name: "老王",
            age: 24,
            arr: [1,2,3,4,5]
        }

        function deeCopy(obj) {
            //判断obj是不是属于引用数据类型
            if ( typeof obj !== "object") {
                return obj
            }
            //判断此时的obj是数组还是对象
            var newobj = Array.isArray(obj) ? [] : {}

            //for..in拿到obj的每一项的值
            for(var i in obj) {
                //先判断每一项的值是否不为引用数据类型
                if (typeof obj[i] !== "object") {
                    //直接给新的newobj赋值
                    newobj[i] = obj[i]
                } else {
                    // 如果obj里面有一项的值为引用数据类型，则重新调用deepCopy这个方法
                    newobj[i] = deeCopy(obj[i])
                }
            }
            //循环执行完毕，返回这个新的newobj

            return newobj
        }
        var obj4 = deeCopy(obj3)
        console.log(obj3);
        console.log(obj4);

        obj3.arr[1] = "567"
        console.log(obj3);
        console.log(obj4);
    </script>
    <script>
        var obj3 = {
            name: "老王",
            age:22,
            arr:[1,2,3,4,5]
        }
        function deeCopy(obj) {
            if (typeof obj !== "object") {
                return obj
            }
            var newobj = Array.isArray(obj) ? [] : {}
            for(var i in obj) {
                if (typeof obj[i] !== "object") {
                    newobj[i] =obj[i]
                } else{
                    newobj[i] = deepCopy(obj[i])
                }
            }
            return newobj
        }
    </script>
</body>
</html>